<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v1.1 plugin-docs plugin-id-default docs-doc-id-logging/logging">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Logging Audit Event | Harvester</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.harvesterhci.io/v1.1/logging/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.1"><meta data-rh="true" name="docsearch:version" content="v1.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.1"><meta data-rh="true" property="og:title" content="Logging Audit Event | Harvester"><meta data-rh="true" name="description" content="Available as of v1.1.0"><meta data-rh="true" property="og:description" content="Available as of v1.1.0"><meta data-rh="true" name="keywords" content="Harvester,Logging,Audit,Event"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.harvesterhci.io/v1.1/logging/"><link data-rh="true" rel="alternate" href="https://docs.harvesterhci.io/v1.1/logging/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.harvesterhci.io/zh/v1.1/logging/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.harvesterhci.io/v1.1/logging/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://U7QCSJFCWR-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="Harvester" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.831dbdae.css">
<link rel="preload" href="/assets/js/runtime~main.693e3b15.js" as="script">
<link rel="preload" href="/assets/js/main.d1ef793e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_horizontal.svg" alt="Harvester Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_horizontal.svg" alt="Harvester Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/v1.1/">v1.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/dev/logging/">v1.2-dev</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v1.1/logging/">v1.1</a></li><li><a class="dropdown__link" href="/v1.0/">v1.0</a></li><li><a class="dropdown__link" href="/v0.3/">v0.3</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/v1.1/logging/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/v1.1/logging/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">简体中文</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/v1.1/">Docs</a><a href="https://www.suse.com/c/?s=harvester" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__blog">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://harvesterhci.io/kb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__kb">Knowledge Base<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/harvester/harvester" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/">Harvester Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/install/requirements">Installation</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/airgap">Air Gapped Environment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/upgrade/automatic">Upgrade</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/upload-image">Upload Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/host/">Host Management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/vm/create-vm">VM Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/volume/create-volume">Volume Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/networking/clusternetwork">Networking</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/v1.1/logging/">Logging Audit Event</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/monitoring/">Monitoring</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/advanced/settings">Advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/rancher/rancher-integration">Rancher Integration</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/terraform/">Harvester Terraform Provider</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v1.1/troubleshooting/installation">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v1.1/faq">FAQ</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Logging Audit Event</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Logging Audit Event</h1></header><p><em>Available as of v1.1.0</em></p><p>It is important to know what is happening/has happened in the <code>Harvester Cluster</code>.</p><p><code>Harvester</code> collects the <code>cluster running log</code>, kubernetes <code>audit</code> and <code>event</code> log right after the cluster is powered on, which is helpful for monitoring, logging, auditing and troubleshooting.</p><p><code>Harvester</code> supports sending those logs to various types of log servers.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The size of logging data is related to the cluster scale, workload and other factors. <code>Harvester</code> does not use persistent storage to store log data inside the cluster. Users need to set up a log server to receive logs accordingly.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-architecture">High-level Architecture<a href="#high-level-architecture" class="hash-link" aria-label="Direct link to High-level Architecture" title="Direct link to High-level Architecture">​</a></h2><p>The <a href="https://banzaicloud.com/docs/one-eye/logging-operator/" target="_blank" rel="noopener noreferrer">Banzai Cloud Logging operator</a> now powers both <code>Harvester</code> and <code>Rancher</code> as an in-house logging solution.</p><p><img loading="lazy" src="/assets/images/fluent-operator-03f1565c626ff9df7a98035c4d9eca93.png" width="2642" height="1372" class="img_ev3q"></p><p>In Harvester&#x27;s practice, the <code>Logging</code>, <code>Audit</code> and <code>Event</code> shares one architecture, the <code>Logging</code> is the infrastructure, while the <code>Audit</code> and <code>Event</code> are on top of it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a href="#logging" class="hash-link" aria-label="Direct link to Logging" title="Direct link to Logging">​</a></h2><p>The Harvester logging infrastructure allows you to aggregate Harvester logs into an external service such as <a href="https://www.graylog.org" target="_blank" rel="noopener noreferrer">Graylog</a>, <a href="https://www.elastic.co/elasticsearch/" target="_blank" rel="noopener noreferrer">Elasticsearch</a>, <a href="https://www.splunk.com/" target="_blank" rel="noopener noreferrer">Splunk</a>, <a href="https://grafana.com/oss/loki/" target="_blank" rel="noopener noreferrer">Grafana Loki</a> and others.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="collected-logs">Collected Logs<a href="#collected-logs" class="hash-link" aria-label="Direct link to Collected Logs" title="Direct link to Collected Logs">​</a></h3><p>See below for a list logs that are collected:</p><ul><li>Logs from all cluster <code>Pods</code></li><li>Kernel logs from each <code>node</code></li><li>Logs from select systemd services from each node<ul><li><code>rke2-server</code></li><li><code>rke2-agent</code></li><li><code>rancherd</code></li><li><code>rancher-system-agent</code></li><li><code>wicked</code></li><li><code>iscsid</code></li></ul></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Users are able to configure and modify where the aggregated logs are sent, as well as some basic filtering. It is not supported to change which logs are collected.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-log-resources">Configuring Log Resources<a href="#configuring-log-resources" class="hash-link" aria-label="Direct link to Configuring Log Resources" title="Direct link to Configuring Log Resources">​</a></h3><p>Underneath Banzai Cloud&#x27;s logging operator are <a href="https://www.fluentd.org/" target="_blank" rel="noopener noreferrer"><code>fluentd</code></a> and <a href="https://fluentbit.io/" target="_blank" rel="noopener noreferrer"><code>fluent-bit</code></a>, which handle the log routing and collecting respectively.
If desired, you can modify how many resources are dedicated to those components.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="from-ui">From UI<a href="#from-ui" class="hash-link" aria-label="Direct link to From UI" title="Direct link to From UI">​</a></h4><ol><li>Navigate to the <code>Configuration</code> page under <code>Monitoring &amp; Logging &gt; Logging</code>.</li><li>Under the <code>Fluentbit</code> tab, change the resource requests and limits.</li><li>Under the <code>Fluentd</code> tab, change the resource requests and limits.</li><li>Click <code>Save</code> on the bottom right of the screen.</li></ol><p><img loading="lazy" src="/assets/images/modify-logging-fluent-resources-5c54722eedbcc1c4018af4accd8b6348.png" width="1920" height="936" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="from-cli">From CLI<a href="#from-cli" class="hash-link" aria-label="Direct link to From CLI" title="Direct link to From CLI">​</a></h4><p>You can also change the resource configurations from the command line using <code>kubectl edit managedchart -n fleet-local rancher-logging</code> and modifying the relevant files.</p><p>For harvester version <code>&gt;= v1.1.0</code>, the related paths and default values are:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># fluentbit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.limits.cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 200m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.limits.memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 200mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.requests.cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 50m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.requests.memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 50mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#fluentd</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.limits.cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 200m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.limits.memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 200mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.requests.cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 50m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">values.fluentbit.resources.requests.memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 50mi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-log-destinations">Configuring Log Destinations<a href="#configuring-log-destinations" class="hash-link" aria-label="Direct link to Configuring Log Destinations" title="Direct link to Configuring Log Destinations">​</a></h3><p>Logging is backed by the <a href="https://banzaicloud.com/docs/one-eye/logging-operator/" target="_blank" rel="noopener noreferrer">Banzai Cloud Logging Operator</a>, and so is controlled by <a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/flow/" target="_blank" rel="noopener noreferrer"><code>Flows</code>/<code>ClusterFlows</code></a> and <a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/output/" target="_blank" rel="noopener noreferrer"><code>Outputs</code>/<code>ClusterOutputs</code></a>. You can route and filter logs as you like by applying these <code>CRD</code>s to the Harvester cluster.</p><p>When applying new <code>Ouptuts</code> and <code>Flows</code> to the cluster, it can take some time for the logging operator to effectively apply them. So please allow a few minutes for the logs to start flowing.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="clustered-vs-namespaced">Clustered vs Namespaced<a href="#clustered-vs-namespaced" class="hash-link" aria-label="Direct link to Clustered vs Namespaced" title="Direct link to Clustered vs Namespaced">​</a></h4><p>One important thing to understand when routing logs is the difference between <code>ClusterFlow</code> vs <code>Flow</code> and <code>ClusterOutput</code> vs <code>Output</code>. The main difference between the clustered and non-clustered version of each is that the non-clustered versions are namespaced.</p><p>The biggest implication of this is that <code>Flows</code> can only access <code>Outputs</code> that are within the same namespace, but can still access any <code>ClusterOutput</code>.</p><p>For more information, see the documentation:</p><ul><li><a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/flow/" target="_blank" rel="noopener noreferrer"><code>Flows</code>/<code>ClusterFlows</code></a></li><li><a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/output/" target="_blank" rel="noopener noreferrer"><code>Outputs</code>/<code>ClusterOutputs</code></a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="from-ui-1">From UI<a href="#from-ui-1" class="hash-link" aria-label="Direct link to From UI" title="Direct link to From UI">​</a></h4><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>UI images are for <code>Output</code> and <code>Flow</code> whose configuration process is almost identical to their clustered counterparts. Any differences will be noted in the steps below.</p></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="creating-outputs">Creating Outputs<a href="#creating-outputs" class="hash-link" aria-label="Direct link to Creating Outputs" title="Direct link to Creating Outputs">​</a></h5><ol><li>Choose the option to create a new <code>Output</code> or <code>ClusterOutput</code>.</li><li>If creating an <code>Output</code>, select the desired namespace.</li><li>Add a name for the resources.</li><li>Select the logging type.</li><li>Select the logging output type.</li></ol><p><img loading="lazy" src="/assets/images/create-output-4780f942ae8568cb56cdca16e364b74e.png" width="1894" height="934" class="img_ev3q"></p><ol start="6"><li>Configure the output buffer if necessary.</li></ol><p><img loading="lazy" src="/assets/images/create-output-buffer-62c1b78c41a02d731c76f6cbc4126340.png" width="1894" height="934" class="img_ev3q"></p><ol start="7"><li>Add any labels or annotations.</li></ol><p><img loading="lazy" src="/assets/images/create-output-labels-and-annotations-5a91c9c7380fea1f056de1dcfbd8d192.png" width="1894" height="934" class="img_ev3q"></p><ol start="8"><li>Once done, click <code>Create</code> on the lower right.</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Depending on the output selected (Splunk, Elasticsearch, etc), there will be additional fields to specify in the form.</p></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="output">Output<a href="#output" class="hash-link" aria-label="Direct link to Output" title="Direct link to Output">​</a></h6><p>The fields present in the <strong>Output</strong> form will change depending on the <code>Output</code> chosen, in order to expose the fields present for each <a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/plugins/outputs/" target="_blank" rel="noopener noreferrer">output plugin</a>.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="output-buffer">Output Buffer<a href="#output-buffer" class="hash-link" aria-label="Direct link to Output Buffer" title="Direct link to Output Buffer">​</a></h6><p>The <code>Output Buffer</code> editor allows you to describe how you want the output buffer to behave. You can find the documentation for the buffer fields <a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/plugins/outputs/buffer/" target="_blank" rel="noopener noreferrer">here</a>.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="labels--annotations">Labels &amp; Annotations<a href="#labels--annotations" class="hash-link" aria-label="Direct link to Labels &amp; Annotations" title="Direct link to Labels &amp; Annotations">​</a></h6><p>You can append labels and annotations to the created resource.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="creating-flows">Creating Flows<a href="#creating-flows" class="hash-link" aria-label="Direct link to Creating Flows" title="Direct link to Creating Flows">​</a></h5><ol><li>Choose the option to create a new <code>Flow</code> or <code>ClusterFlow</code>.</li><li>If creating a <code>Flow</code>, select the desired namespace.</li><li>Add a name for the resource.</li><li>Select any nodes whose logs to include or exclude.</li></ol><p><img loading="lazy" src="/assets/images/create-flow-matches-e84e72fc6237b7c3e958ee431be10d67.png" width="1894" height="934" class="img_ev3q"></p><ol start="5"><li>Select target <code>Outputs</code> and <code>ClusterOutputs</code>.</li></ol><p><img loading="lazy" src="/assets/images/create-flow-outputs-62d17c11b0d45b348d1aa8025d340d25.png" width="1894" height="934" class="img_ev3q"></p><ol start="6"><li>Add any filters if desired.</li></ol><p><img loading="lazy" src="/assets/images/create-flow-filters-e6b4e332e511c03cad22f4183ee403d3.png" width="1892" height="935" class="img_ev3q"></p><ol start="7"><li>Once done, click <code>Create</code> on the lower left.</li></ol><h6 class="anchor anchorWithStickyNavbar_LWe7" id="matches">Matches<a href="#matches" class="hash-link" aria-label="Direct link to Matches" title="Direct link to Matches">​</a></h6><p>Matches allow you to filter which logs you want to include in the <code>Flow</code>. The form only allows you to include or exclude node logs, but if needed, you can add other match rules supported by the resource by selecting <code>Edit as YAML</code>.</p><p>For more information about the match directive, see <a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/log-routing/" target="_blank" rel="noopener noreferrer">Routing your logs with match directive</a>.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="outputs">Outputs<a href="#outputs" class="hash-link" aria-label="Direct link to Outputs" title="Direct link to Outputs">​</a></h6><p>Outputs allow you to select one or more <code>OutputRefs</code> to send the aggregated logs to. When creating or editing a <code>Flow</code> / <code>ClusterFlow</code>, it is required that the user selects at least one <code>Output</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>There must be at least one existing <code>ClusterOutput</code> or <code>Output</code> that can be attached to the flow, or you will not be able to create / edit the flow.</p></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="filters">Filters<a href="#filters" class="hash-link" aria-label="Direct link to Filters" title="Direct link to Filters">​</a></h6><p>Filters allow you to transform, process, and mutate the logs. In the text edit, you will find descriptions of the supported filters, but for more information, you can visit the list of <a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/plugins/filters/" target="_blank" rel="noopener noreferrer">supported filters</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="from-cli-1">From CLI<a href="#from-cli-1" class="hash-link" aria-label="Direct link to From CLI" title="Direct link to From CLI">​</a></h4><p>To configure log routes via the command line, you only need to define the YAML files for the relevant resources:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># elasticsearch-logging.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> elasticsearch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fleet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">example-label</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> elasticsearch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">example-annotation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> elasticsearch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">elasticsearch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;url</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">to</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">elasticsearch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Flow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> elasticsearch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fleet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">match</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">select</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">globalOutputRefs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> elasticsearch</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">example</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And then apply them:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f elasticsearch-logging.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="referencing-secrets">Referencing Secrets<a href="#referencing-secrets" class="hash-link" aria-label="Direct link to Referencing Secrets" title="Direct link to Referencing Secrets">​</a></h5><p>There are 3 ways Banzai Cloud allows specifying secret values via yaml values.</p><p>The simplest is to use the <code>value</code> key, which is a simple string value for the desired secret. This method should only be used for testing and never in production:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">aws_key_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;secretvalue&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The next is to use <code>valueFrom</code>, which allows referencing a specific value from a secret by a name and key pair:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">aws_key_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;kubernetes</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;kubernetes</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Some plugins require a file to read from rather than simply receiving a value from the secret (this is often the case for CA cert files). In these cases, you need to use <code>mountFrom</code>, which will mount the secret as a file to the underlying <code>fluentd</code> deployment and point the plugin to the file. The <code>valueFrom</code> and <code>mountFrom</code> object look the same:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">tls_cert_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">mountFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;kubernetes</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;kubernetes</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more information, you can find the related documentation <a href="https://banzaicloud.com/docs/one-eye/logging-operator/configuration/plugins/outputs/secret/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-outputs">Example <code>Outputs</code><a href="#example-outputs" class="hash-link" aria-label="Direct link to example-outputs" title="Direct link to example-outputs">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="elasticsearch">Elasticsearch<a href="#elasticsearch" class="hash-link" aria-label="Direct link to Elasticsearch" title="Direct link to Elasticsearch">​</a></h4><p>For the simplest deployment, you can deploy Elasticsearch on your local system using docker:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run --name elasticsearch -p 9200:9200 -p 9300:9300 -e xpack.security.enabled=false -e node.name=es01 -it docker.elastic.co/elasticsearch/elasticsearch:6.8.23</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Make sure that you have set <code>vm.max_map_count</code> to be &gt;= 262144 or the docker command above will fail. Once the Elasticsearch server is up, you can create the yaml file for the <code>ClusterOutput</code> and <code>ClusterFlow</code>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> elasticsearch-example.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: ClusterOutput</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: elasticsearch-example</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  namespace: cattle-logging-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  elasticsearch:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    host: 192.168.0.119</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    port: 9200</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    buffer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      timekey: 1m</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      timekey_wait: 30s</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      timekey_use_utc: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: ClusterFlow</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: elasticsearch-example</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  namespace: cattle-logging-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  match:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    - select: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  globalOutputRefs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    - elasticsearch-example</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And apply the file:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f elasticsearch-example.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After allowing some time for the logging operator to apply the resources, you can test that the logs are flowing:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> localhost:9200/fluentd/_search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;took&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;timed_out&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;_shards&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;total&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;successful&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;skipped&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;failed&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;hits&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;total&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">11603</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;max_score&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;hits&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;_index&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fluentd&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;_type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;fluentd&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;_id&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;yWHr0oMBXcBggZRJgagY&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;_score&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;_source&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;stream&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;stderr&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;logtag&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;F&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;I1013 02:29:43.020384       1 csi_handler.go:248] Attaching </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">csi-974b4a6d2598d8a7a37b06d06557c428628875e077dabf8f32a6f3aa2750961d</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">&quot;kubernetes&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;pod_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;csi-attacher-5d4cc8cfc8-hd4nb&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;namespace_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;longhorn-system&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;pod_id&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c63c2014-9556-40ce-a8e1-22c55de12e70&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;labels&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;app&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;csi-attacher&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;pod-template-hash&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;5d4cc8cfc8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;annotations&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;cni.projectcalico.org/containerID&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;857df09c8ede7b8dee786a8c8788e8465cca58f0b4d973c448ed25bef62660cf&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;cni.projectcalico.org/podIP&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.52.0.15/32&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;cni.projectcalico.org/podIPs&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.52.0.15/32&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;k8s.v1.cni.cncf.io/network-status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[{</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">name</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">k8s-pod-network</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">,</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">ips</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: [</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">        </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">10.52.0.15</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    ],</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">default</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: true,</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">dns</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: {}</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">}]&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;k8s.v1.cni.cncf.io/networks-status&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;[{</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">name</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">k8s-pod-network</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">,</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">ips</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: [</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">        </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">10.52.0.15</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    ],</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">default</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: true,</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">    </span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">dns</span><span class="token string entity" style="color:#36acaa">\&quot;</span><span class="token string" style="color:#e3116c">: {}</span><span class="token string entity" style="color:#36acaa">\n</span><span class="token string" style="color:#e3116c">}]&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token string" style="color:#e3116c">&quot;kubernetes.io/psp&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;global-unrestricted-psp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;host&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;harvester-node-0&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;container_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;csi-attacher&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;docker_id&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;f10e4449492d4191376d3e84e39742bf077ff696acbb1e5f87c9cfbab434edae&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;container_hash&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sha256:03e115718d258479ce19feeb9635215f98e5ad1475667b4395b79e68caf129a6&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;container_image&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;docker.io/longhornio/csi-attacher:v3.4.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="graylog">Graylog<a href="#graylog" class="hash-link" aria-label="Direct link to Graylog" title="Direct link to Graylog">​</a></h4><p>You can follow the instructions <a href="https://github.com/w13915984028/harvester-develop-summary/blob/main/integrate-harvester-logging-with-log-servers.md#integrate-harvester-logging-with-graylog" target="_blank" rel="noopener noreferrer">here</a> to deploy and view cluster logs via <a href="https://www.graylog.org/" target="_blank" rel="noopener noreferrer">Graylog</a>:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterFlow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;all-logs-gelf-hs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cattle-logging-system&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">globalOutputRefs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;example-gelf-hs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterOutput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;example-gelf-hs&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cattle-logging-system&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">gelf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.122.159&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12202</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;udp&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="splunk">Splunk<a href="#splunk" class="hash-link" aria-label="Direct link to Splunk" title="Direct link to Splunk">​</a></h4><p>You can follow the instructions <a href="https://github.com/w13915984028/harvester-develop-summary/blob/main/test-log-event-audit-with-splunk.md" target="_blank" rel="noopener noreferrer">here</a> to deploy and view cluster logs via <a href="https://www.splunk.com/" target="_blank" rel="noopener noreferrer">Splunk</a>.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterOutput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">splunk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cattle</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">splunkHec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">hec_host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.122.101</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">hec_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8088</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">insecure_ssl</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">index</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">hec_token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">valueFrom</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">secretKeyRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> HECTOKEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> splunk</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">hec</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">token2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">buffer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">chunk_limit_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 3MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">timekey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">timekey_wait</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterFlow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">splunk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cattle</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">filters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">tag_normaliser</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">match</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">globalOutputRefs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">splunk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="loki">Loki<a href="#loki" class="hash-link" aria-label="Direct link to Loki" title="Direct link to Loki">​</a></h4><p>You can follow the instructions in the <a href="https://github.com/joshmeranda/harvester/blob/logging/enhancements/20220525-system-logging.md" target="_blank" rel="noopener noreferrer">logging HEP</a> on deploying and viewing cluster logs via <a href="https://grafana.com/oss/loki/" target="_blank" rel="noopener noreferrer">Grafana Loki</a>.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterFlow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">loki</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cattle</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">match</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">select</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">globalOutputRefs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">loki</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterOutput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">loki</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cattle</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">loki</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//loki</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">stack.cattle</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system.svc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">extra_labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">logOutput</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> harvester</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">loki</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="audit">Audit<a href="#audit" class="hash-link" aria-label="Direct link to Audit" title="Direct link to Audit">​</a></h2><p>Harvester collects Kubernetes <code>audit</code> and is able to send the <code>audit</code> to various types of log servers.</p><p>The policy file to guide <code>kube-apiserver</code> is <a href="https://github.com/harvester/harvester-installer/blob/5991dcf6307aa5da79c5d6926566541f48105778/pkg/config/templates/rke2-92-harvester-kube-audit-policy.yaml" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="audit-definition">Audit Definition<a href="#audit-definition" class="hash-link" aria-label="Direct link to Audit Definition" title="Direct link to Audit Definition">​</a></h3><p>In <code>kubernetes</code>, the <a href="https://kubernetes.io/docs/tasks/debug/debug-cluster/audit/" target="_blank" rel="noopener noreferrer">audit</a> data is generated by <code>kube-apiserver</code> according to defined policy.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Audit policy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Audit policy defines rules about what events should be recorded and what data they should include. The audit policy object structure is defined in the audit.k8s.io API group. When an event is processed, it&#x27;s compared against the list of rules in order. The first matching rule sets the audit level of the event. The defined audit levels are:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">None - don&#x27;t log events that match this rule.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Metadata - log request metadata (requesting user, timestamp, resource, verb, etc.) but not request or response body.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Request - log event metadata and request body but not response body. This does not apply for non-resource requests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RequestResponse - log event metadata, request and response bodies. This does not apply for non-resource requests.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="audit-log-format">Audit Log Format<a href="#audit-log-format" class="hash-link" aria-label="Direct link to Audit Log Format" title="Direct link to Audit Log Format">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="audit-log-format-in-kubernetes">Audit Log Format in Kubernetes<a href="#audit-log-format-in-kubernetes" class="hash-link" aria-label="Direct link to Audit Log Format in Kubernetes" title="Direct link to Audit Log Format in Kubernetes">​</a></h4><p>Kubernetes apiserver logs audit with following JSON format into a local file.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;kind&quot;:&quot;Event&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;apiVersion&quot;:&quot;audit.k8s.io/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;level&quot;:&quot;Metadata&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;auditID&quot;:&quot;13d0bf83-7249-417b-b386-d7fc7c024583&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;stage&quot;:&quot;RequestReceived&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;requestURI&quot;:&quot;/apis/flowcontrol.apiserver.k8s.io/v1beta2/prioritylevelconfigurations?fieldManager=api-priority-and-fairness-config-producer-v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;verb&quot;:&quot;create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;user&quot;:{&quot;username&quot;:&quot;system:apiserver&quot;,&quot;uid&quot;:&quot;d311c1fe-2d96-4e54-a01b-5203936e1046&quot;,&quot;groups&quot;:[&quot;system:masters&quot;]},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;sourceIPs&quot;:[&quot;::1&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;userAgent&quot;:&quot;kube-apiserver/v1.24.7+rke2r1 (linux/amd64) kubernetes/e6f3597&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;objectRef&quot;:{&quot;resource&quot;:&quot;prioritylevelconfigurations&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;apiGroup&quot;:&quot;flowcontrol.apiserver.k8s.io&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;apiVersion&quot;:&quot;v1beta2&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;requestReceivedTimestamp&quot;:&quot;2022-10-19T18:55:07.244781Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;stageTimestamp&quot;:&quot;2022-10-19T18:55:07.244781Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="audit-log-format-before-being-sent-to-log-servers">Audit Log Format before Being Sent to Log Servers<a href="#audit-log-format-before-being-sent-to-log-servers" class="hash-link" aria-label="Direct link to Audit Log Format before Being Sent to Log Servers" title="Direct link to Audit Log Format before Being Sent to Log Servers">​</a></h4><p>Harvester keeps the <code>audit</code> log unchanged before sending it to the log server.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="audit-log-outputclusteroutput">Audit Log Output/ClusterOutput<a href="#audit-log-outputclusteroutput" class="hash-link" aria-label="Direct link to Audit Log Output/ClusterOutput" title="Direct link to Audit Log Output/ClusterOutput">​</a></h3><p>To output audit related log, the <code>Output</code>/<code>ClusterOutput</code> requires the value of <code>loggingRef</code> to be <code>harvester-kube-audit-log-ref</code>.</p><p>When you configure from the Harvester dashboard, the field is added automatically.</p><p>Select type <code>Audit Only</code> from the <code>Type</code> drpo-down list.</p><p><img loading="lazy" src="/assets/images/cluster-output-type-9ebabd3cc3bb3b555bf620becd1b65da.png" width="1466" height="644" class="img_ev3q"></p><p>When you configure from the CLI, please add the field manually.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: ClusterOutput</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &quot;harvester-audit-webhook&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: &quot;cattle-logging-system&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  http:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    endpoint: &quot;http://192.168.122.159:8096/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    open_timeout: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    format: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: &quot;json&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      chunk_limit_size: 3MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      timekey: 2m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      timekey_wait: 1m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  loggingRef: harvester-kube-audit-log-ref   # this reference is fixed and must be here</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="audit-log-flowclusterflow">Audit Log Flow/ClusterFlow<a href="#audit-log-flowclusterflow" class="hash-link" aria-label="Direct link to Audit Log Flow/ClusterFlow" title="Direct link to Audit Log Flow/ClusterFlow">​</a></h3><p>To route audit related logs, the <code>Flow</code>/<code>ClusterFlow</code> requires the value of <code>loggingRef</code> to be <code>harvester-kube-audit-log-ref</code>.</p><p>When you configure from the Harvester dashboard, the field is added automatically.</p><p>Select type <code>Audit</code>.</p><p><img loading="lazy" src="/assets/images/cluster-flow-type-c14d56c2a81e14c1afefd30f61a9780b.png" width="1234" height="558" class="img_ev3q"></p><p>When you config from the CLI, please add the field manually.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: ClusterFlow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &quot;harvester-audit-webhook&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: &quot;cattle-logging-system&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  globalOutputRefs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - &quot;harvester-audit-webhook&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  loggingRef: harvester-kube-audit-log-ref  # this reference is fixed and must be here</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="harvester">Harvester<a href="#harvester" class="hash-link" aria-label="Direct link to Harvester" title="Direct link to Harvester">​</a></h3><h2 class="anchor anchorWithStickyNavbar_LWe7" id="event">Event<a href="#event" class="hash-link" aria-label="Direct link to Event" title="Direct link to Event">​</a></h2><p>Harvester collects Kubernetes <code>event</code> and is able to send the <code>event</code> to various types of log servers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-definition">Event Definition<a href="#event-definition" class="hash-link" aria-label="Direct link to Event Definition" title="Direct link to Event Definition">​</a></h3><p>Kubernetes <code>events</code> are objects that show you what is happening inside a cluster, such as what decisions were made by the scheduler or why some pods were evicted from the node. All core components and extensions (operators/controllers) may create events through the API Server.</p><p>Events have no direct relationship with log messages generated by the various components, and are not affected with the log verbosity level. When a component creates an event, it often emits a corresponding log message. Events are garbage collected by the API Server after a short time (typically after an hour), which means that they can be used to understand issues that are happening, but you have to collect them to investigate past events.</p><p>Events are the first thing to look at for application, as well as infrastructure operations when something is not working as expected. Keeping them for a longer period is essential if the failure is the result of earlier events, or when conducting post-mortem analysis.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-log-format">Event Log Format<a href="#event-log-format" class="hash-link" aria-label="Direct link to Event Log Format" title="Direct link to Event Log Format">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-log-format-in-kubernetes">Event Log Format in Kubernetes<a href="#event-log-format-in-kubernetes" class="hash-link" aria-label="Direct link to Event Log Format in Kubernetes" title="Direct link to Event Log Format in Kubernetes">​</a></h4><p>A <code>kubernetes event</code> example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;apiVersion&quot;: &quot;v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;count&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;eventTime&quot;: null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;firstTimestamp&quot;: &quot;2022-08-24T11:17:35Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;involvedObject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;apiVersion&quot;: &quot;kubevirt.io/v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;kind&quot;: &quot;VirtualMachineInstance&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;vm-ide-1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;namespace&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;resourceVersion&quot;: &quot;604601&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;uid&quot;: &quot;1bd4133f-5aa3-4eda-bd26-3193b255b480&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;kind&quot;: &quot;Event&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;lastTimestamp&quot;: &quot;2022-08-24T11:17:35Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;message&quot;: &quot;VirtualMachineInstance defined.&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;creationTimestamp&quot;: &quot;2022-08-24T11:17:35Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;name&quot;: &quot;vm-ide-1.170e43cbdd833b62&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;namespace&quot;: &quot;default&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;resourceVersion&quot;: &quot;604626&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;uid&quot;: &quot;0114f4e7-1d4a-4201-b0e5-8cc8ede202f4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;reason&quot;: &quot;Created&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;reportingComponent&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;reportingInstance&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;source&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;component&quot;: &quot;virt-handler&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;host&quot;: &quot;harv1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;Normal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-log-format-before-being-sent-to-log-servers">Event Log Format before Being Sent to Log Servers<a href="#event-log-format-before-being-sent-to-log-servers" class="hash-link" aria-label="Direct link to Event Log Format before Being Sent to Log Servers" title="Direct link to Event Log Format before Being Sent to Log Servers">​</a></h4><p>Each <code>event log</code> has the format of: <code>{&quot;stream&quot;:&quot;&quot;,&quot;logtag&quot;:&quot;F&quot;,&quot;message&quot;:&quot;&quot;,&quot;kubernetes&quot;:{&quot;&quot;}}</code>. The <code>kubernetes event</code> is in the field <code>message</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;stream&quot;:&quot;stdout&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;logtag&quot;:&quot;F&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;message&quot;:&quot;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\\&quot;verb\\&quot;:\\&quot;ADDED\\&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\\&quot;event\\&quot;:{\\&quot;metadata\\&quot;:{\\&quot;name\\&quot;:\\&quot;vm-ide-1.170e446c3f890433\\&quot;,\\&quot;namespace\\&quot;:\\&quot;default\\&quot;,\\&quot;uid\\&quot;:\\&quot;0b44b6c7-b415-4034-95e5-a476fcec547f\\&quot;,\\&quot;resourceVersion\\&quot;:\\&quot;612482\\&quot;,\\&quot;creationTimestamp\\&quot;:\\&quot;2022-08-24T11:29:04Z\\&quot;,\\&quot;managedFields\\&quot;:[{\\&quot;manager\\&quot;:\\&quot;virt-controller\\&quot;,\\&quot;operation\\&quot;:\\&quot;Update\\&quot;,\\&quot;apiVersion\\&quot;:\\&quot;v1\\&quot;,\\&quot;time\\&quot;:\\&quot;2022-08-24T11:29:04Z\\&quot;}]},\\&quot;involvedObject\\&quot;:{\\&quot;kind\\&quot;:\\&quot;VirtualMachineInstance\\&quot;,\\&quot;namespace\\&quot;:\\&quot;default\\&quot;,\\&quot;name\\&quot;:\\&quot;vm-ide-1\\&quot;,\\&quot;uid\\&quot;:\\&quot;1bd4133f-5aa3-4eda-bd26-3193b255b480\\&quot;,\\&quot;apiVersion\\&quot;:\\&quot;kubevirt.io/v1\\&quot;,\\&quot;resourceVersion\\&quot;:\\&quot;612477\\&quot;},\\&quot;reason\\&quot;:\\&quot;SuccessfulDelete\\&quot;,\\&quot;message\\&quot;:\\&quot;Deleted PodDisruptionBudget kubevirt-disruption-budget-hmmgd\\&quot;,\\&quot;source\\&quot;:{\\&quot;component\\&quot;:\\&quot;disruptionbudget-controller\\&quot;},\\&quot;firstTimestamp\\&quot;:\\&quot;2022-08-24T11:29:04Z\\&quot;,\\&quot;lastTimestamp\\&quot;:\\&quot;2022-08-24T11:29:04Z\\&quot;,\\&quot;count\\&quot;:1,\\&quot;type\\&quot;:\\&quot;Normal\\&quot;,\\&quot;eventTime\\&quot;:null,\\&quot;reportingComponent\\&quot;:\\&quot;\\&quot;,\\&quot;reportingInstance\\&quot;:\\&quot;\\&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;kubernetes&quot;:{&quot;pod_name&quot;:&quot;harvester-default-event-tailer-0&quot;,&quot;namespace_name&quot;:&quot;cattle-logging-system&quot;,&quot;pod_id&quot;:&quot;d3453153-58c9-456e-b3c3-d91242580df3&quot;,&quot;labels&quot;:{&quot;app.kubernetes.io/instance&quot;:&quot;harvester-default-event-tailer&quot;,&quot;app.kubernetes.io/name&quot;:&quot;event-tailer&quot;,&quot;controller-revision-hash&quot;:&quot;harvester-default-event-tailer-747b9d4489&quot;,&quot;statefulset.kubernetes.io/pod-name&quot;:&quot;harvester-default-event-tailer-0&quot;},&quot;annotations&quot;:{&quot;cni.projectcalico.org/containerID&quot;:&quot;aa72487922ceb4420ebdefb14a81f0d53029b3aec46ed71a8875ef288cde4103&quot;,&quot;cni.projectcalico.org/podIP&quot;:&quot;10.52.0.178/32&quot;,&quot;cni.projectcalico.org/podIPs&quot;:&quot;10.52.0.178/32&quot;,&quot;k8s.v1.cni.cncf.io/network-status&quot;:&quot;[{\\n    \\&quot;name\\&quot;: \\&quot;k8s-pod-network\\&quot;,\\n    \\&quot;ips\\&quot;: [\\n        \\&quot;10.52.0.178\\&quot;\\n    ],\\n    \\&quot;default\\&quot;: true,\\n    \\&quot;dns\\&quot;: {}\\n}]&quot;,&quot;k8s.v1.cni.cncf.io/networks-status&quot;:&quot;[{\\n    \\&quot;name\\&quot;: \\&quot;k8s-pod-network\\&quot;,\\n    \\&quot;ips\\&quot;: [\\n        \\&quot;10.52.0.178\\&quot;\\n    ],\\n    \\&quot;default\\&quot;: true,\\n    \\&quot;dns\\&quot;: {}\\n}]&quot;,&quot;kubernetes.io/psp&quot;:&quot;global-unrestricted-psp&quot;},&quot;host&quot;:&quot;harv1&quot;,&quot;container_name&quot;:&quot;harvester-default-event-tailer-0&quot;,&quot;docker_id&quot;:&quot;455064de50cc4f66e3dd46c074a1e4e6cfd9139cb74d40f5ba00b4e3e2a7ab2d&quot;,&quot;container_hash&quot;:&quot;docker.io/banzaicloud/eventrouter@sha256:6353d3f961a368d95583758fa05e8f4c0801881c39ed695bd4e8283d373a4262&quot;,&quot;container_image&quot;:&quot;docker.io/banzaicloud/eventrouter:v0.1.0&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-log-outputclusteroutput">Event Log Output/ClusterOutput<a href="#event-log-outputclusteroutput" class="hash-link" aria-label="Direct link to Event Log Output/ClusterOutput" title="Direct link to Event Log Output/ClusterOutput">​</a></h3><p>Events share the <code>Output</code>/<code>ClusterOutput</code> with <code>Logging</code>.</p><p>Select <code>Logging/Event</code> from the <code>Type</code> drop-down list.</p><p><img loading="lazy" src="/assets/images/cluster-output-type-9ebabd3cc3bb3b555bf620becd1b65da.png" width="1466" height="644" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-log-flowclusterflow">Event Log Flow/ClusterFlow<a href="#event-log-flowclusterflow" class="hash-link" aria-label="Direct link to Event Log Flow/ClusterFlow" title="Direct link to Event Log Flow/ClusterFlow">​</a></h3><p>Compared with the normal Logging <code>Flow</code>/<code>ClusterFlow</code>, the <code>Event</code> related <code>Flow</code>/<code>ClusterFlow</code>, has one more match field with the value of <code>event-tailer</code>.</p><p>When you configure from the Harvester dashboard, the field is added automatically.</p><p>Select <code>Event</code> from the <code>Type</code> drop-down list.</p><p><img loading="lazy" src="/assets/images/cluster-flow-type-c14d56c2a81e14c1afefd30f61a9780b.png" width="1234" height="558" class="img_ev3q"></p><p>When you configure from the CLI, please add the field manually.</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: logging.banzaicloud.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: ClusterFlow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: harvester-event-webhook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  namespace: cattle-logging-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  filters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - tag_normaliser: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  match:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - select:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app.kubernetes.io/name: event-tailer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  globalOutputRefs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - harvester-event-webhook</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/harvester/docs/edit/main/versioned_docs/version-v1.1/logging/logging.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-12-29T06:51:06.000Z">Dec 29, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v1.1/networking/deep-dive"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Harvester Network Deep Dive</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v1.1/monitoring/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Monitoring</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#high-level-architecture" class="table-of-contents__link toc-highlight">High-level Architecture</a></li><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a><ul><li><a href="#collected-logs" class="table-of-contents__link toc-highlight">Collected Logs</a></li><li><a href="#configuring-log-resources" class="table-of-contents__link toc-highlight">Configuring Log Resources</a></li><li><a href="#configuring-log-destinations" class="table-of-contents__link toc-highlight">Configuring Log Destinations</a></li><li><a href="#example-outputs" class="table-of-contents__link toc-highlight">Example <code>Outputs</code></a></li></ul></li><li><a href="#audit" class="table-of-contents__link toc-highlight">Audit</a><ul><li><a href="#audit-definition" class="table-of-contents__link toc-highlight">Audit Definition</a></li><li><a href="#audit-log-format" class="table-of-contents__link toc-highlight">Audit Log Format</a></li><li><a href="#audit-log-outputclusteroutput" class="table-of-contents__link toc-highlight">Audit Log Output/ClusterOutput</a></li><li><a href="#audit-log-flowclusterflow" class="table-of-contents__link toc-highlight">Audit Log Flow/ClusterFlow</a></li><li><a href="#harvester" class="table-of-contents__link toc-highlight">Harvester</a></li></ul></li><li><a href="#event" class="table-of-contents__link toc-highlight">Event</a><ul><li><a href="#event-definition" class="table-of-contents__link toc-highlight">Event Definition</a></li><li><a href="#event-log-format" class="table-of-contents__link toc-highlight">Event Log Format</a></li><li><a href="#event-log-outputclusteroutput" class="table-of-contents__link toc-highlight">Event Log Output/ClusterOutput</a></li><li><a href="#event-log-flowclusterflow" class="table-of-contents__link toc-highlight">Event Log Flow/ClusterFlow</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 harvesterhci.io</div></div></div></footer></div>
<script src="/assets/js/runtime~main.693e3b15.js"></script>
<script src="/assets/js/main.d1ef793e.js"></script>
</body>
</html>